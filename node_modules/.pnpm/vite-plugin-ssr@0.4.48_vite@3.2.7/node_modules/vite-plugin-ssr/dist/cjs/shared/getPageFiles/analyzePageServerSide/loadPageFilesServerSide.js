"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadPageFilesServerSide = void 0;
const getPageFilesServerSide_1 = require("./getPageFilesServerSide");
const getExports_1 = require("../getExports");
async function loadPageFilesServerSide(pageFilesAll, pageId) {
    const pageFilesServerSide = (0, getPageFilesServerSide_1.getPageFilesServerSide)(pageFilesAll, pageId);
    await Promise.all(pageFilesServerSide.map((p) => p.loadFile?.()));
    const { exports, exportsAll, pageExports } = (0, getExports_1.getExports)(pageFilesServerSide);
    return {
        exports,
        exportsAll,
        pageExports,
        pageFilesLoaded: pageFilesServerSide
    };
}
exports.loadPageFilesServerSide = loadPageFilesServerSide;
